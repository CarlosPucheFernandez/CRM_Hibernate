/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package com.mycompany.crm_hibernate.modelos;

/**
 *
 * @author carlo
 */
public class comandos_hybernate {
//                models.Contacto c1 = new models.Contacto();
//                c1.setNombre("Cristina");
//                c1.setApellidos("Domenech Moreno");
//                c1.setEmpresa("Accenture");
//                c1.setMail("CristinaDM@email.com");
//                c1.setTelefono("758496123");
//                s.save(c1);
//                t.commit();
//                 
//                t = s.beginTransaction();
//                models.Contacto c2 = s.get(Contacto.class, 3);
//                System.out.println(c2.toString());
//                c2.setEmpresa("Google");
//                s.update(c2);
//                t.commit();

//                t = s.beginTransaction();
//                models.Contacto c2 = s.get(Contacto.class, 4);
//                Integer id = c2.getId();
//                  Query borrarsql = s.createQuery("DELETE Contacto where id=:id_borrar");
//                  borrarsql.setParameter("id_borrar", id);
//                  if(borrarsql.executeUpdate() != 0){
//                      System.out.println("Todo correcto");
//                  }else{
//                      System.out.println("No se elimino a naide");
//                  }
//                  t.commit();

//                  t.isActive()  cumprueba si la transaccion esta abierta (true / false)    
    
    
//        try ( Session s = HibernateUtil.getSessionFactory().openSession()) {
//            Transaction t = null;
//            try {
//                t = s.beginTransaction();                
//                
//                
//            } catch (Exception e) {
//                e.printStackTrace(System.err);
//                if (t != null) {
//                    t.rollback();
//                }
//            }
//        }   
    // org.apache.log4j.BasicConfigurator.configure();
}
